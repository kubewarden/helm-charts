# This is a Rancher questions file
---
questions:
# General policy questions:
- variable: "clusterScoped"
  type: boolean
  default: true
  required: true
  label: Scope of policy (cluster-wide or namespaced)
  description: |
    Either a cluster-wide policy (ClusterAdmissionPolicy) or a
    namespaced one (AdmissionPolicy). If Namespaced, the namespace of the releaes
    is what the AdmissionPolicy will be deployed into and apply for.
  group: Settings
- variable: "spec.mode"
  type: enum
  options:
    - "monitor"
    - "protect"
  default: "protect"
  required: true
  label: Execution mode of the policy
  description: Execution mode of the policy. "protect" will reject requests,
    "monitor" will log them. Transitioning from "monitor" to "protect" is
    allowed, but not from "protect" to "monitor".
  group: Settings

# Specific policy settings questions:
- default: []
  description: >-
    This policy works by defining a whitelist of allowed AppArmor profiles. Pods
    are then inspected at creation and update time, to ensure only approved
    profiles are used. When no AppArmor profile is defined, Kubernetes will
    leave the final choice to the underlying container runtime. This will result
    in using the default AppArmor profile provided by Container Runtime. Because
    of that, the default behaviour of this policy is to accept workloads that do
    not have an AppArmor profile specified.
  tooltip: Provide a list of allowed AppArmor profiles
  group: Settings
  label: Allowed profiles
  required: false
  type: array[
  variable: allowed_profiles
